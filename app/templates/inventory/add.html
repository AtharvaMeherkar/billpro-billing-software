{% extends "base.html" %}

{% block title %}Add Product{% endblock %}

{% block content %}
<div class="page-header">
    <h1 class="page-title">Add Product</h1>
</div>

<form method="post" action="{{ url_for('inventory.add') }}">
    <div class="card">
        <div class="card-header">Basic Details</div>
        <div class="card-body">
            <div class="form-row">
                <div class="form-group" style="flex: 2;">
                    <label class="form-label">Product Name *</label>
                    <input type="text" name="name" class="form-control" required placeholder="e.g. Apple, Tomato">
                </div>
                <div class="form-group">
                    <label class="form-label">Product Code</label>
                    <input type="text" name="code" class="form-control" placeholder="SKU/Barcode">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label class="form-label">Category</label>
                    <select name="category_id" class="form-control">
                        <option value="">Select Category</option>
                        {% for cat in categories %}
                        <option value="{{ cat.id }}">{{ cat.name }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Unit</label>
                    <select name="unit" class="form-control">
                        <option value="PCS">PCS (Pieces)</option>
                        <option value="KG">KG (Kilogram)</option>
                        <option value="GM">GM (Gram)</option>
                        <option value="LTR">LTR (Litre)</option>
                        <option value="ML">ML (Millilitre)</option>
                        <option value="MTR">MTR (Meter)</option>
                        <option value="BOX">BOX</option>
                        <option value="PACK">PACK</option>
                        <option value="DOZEN">DOZEN</option>
                    </select>
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label">Description</label>
                <textarea name="description" class="form-control" rows="2" placeholder="Optional description"></textarea>
            </div>
        </div>
    </div>
    
    <div class="card">
        <div class="card-header">Pricing & Tax</div>
        <div class="card-body">
            <div class="form-row">
                <div class="form-group">
                    <label class="form-label">Cost Price (₹)</label>
                    <input type="number" name="cost_price" step="0.01" value="0" class="form-control">
                </div>
                <div class="form-group">
                    <label class="form-label">Selling Price (₹) *</label>
                    <input type="number" name="selling_price" step="0.01" value="0" class="form-control" required>
                </div>
                <div class="form-group">
                    <label class="form-label">MRP (₹)</label>
                    <input type="number" name="mrp" step="0.01" value="0" class="form-control">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label class="form-label">HSN Code</label>
                    <input type="text" name="hsn_code" class="form-control" placeholder="e.g. 0808, 0702">
                </div>
                <div class="form-group">
                    <label class="form-label">GST Rate (%)</label>
                    <select name="gst_percent" class="form-control">
                        {% for rate in gst_rates %}
                        <option value="{{ rate }}" {% if rate == 5 %}selected{% endif %}>{{ rate }}%</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
        </div>
    </div>
    
    <div class="card">
        <div class="card-header">Stock</div>
        <div class="card-body">
            <div class="form-row">
                <div class="form-group">
                    <label class="form-label">Opening Stock</label>
                    <input type="number" name="opening_stock" step="0.01" value="0" class="form-control">
                </div>
                <div class="form-group">
                    <label class="form-label">Low Stock Alert (Min Qty)</label>
                    <input type="number" name="low_stock_threshold" step="0.01" value="10" class="form-control">
                </div>
            </div>
        </div>
    </div>
    
    <div class="form-group">
        <button type="submit" class="btn btn-primary btn-lg">Save Product</button>
        <a href="{{ url_for('inventory.index') }}" class="btn btn-secondary btn-lg">Cancel</a>
    </div>
</form>
{% endblock %}
