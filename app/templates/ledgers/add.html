{% extends "base.html" %}

{% block title %}Add Customer/Supplier{% endblock %}

{% block content %}
<div class="page-header">
    <h1 class="page-title">Add Customer/Supplier</h1>
</div>

<form method="post" action="{{ url_for('ledgers.add') }}">
    <div class="card">
        <div class="card-header">Party Details</div>
        <div class="card-body">
            <div class="form-row">
                <div class="form-group">
                    <label class="form-label">Party Type *</label>
                    <select name="party_type" class="form-control" required>
                        <option value="customer">Customer</option>
                        <option value="supplier">Supplier</option>
                    </select>
                </div>
                <div class="form-group" style="flex: 2;">
                    <label class="form-label">Name *</label>
                    <input type="text" name="name" class="form-control" required placeholder="Party name">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label class="form-label">Phone</label>
                    <input type="tel" name="phone" class="form-control" placeholder="Mobile number">
                </div>
                <div class="form-group">
                    <label class="form-label">Email</label>
                    <input type="email" name="email" class="form-control" placeholder="Email address">
                </div>
                <div class="form-group">
                    <label class="form-label">GSTIN</label>
                    <input type="text" name="gstin" class="form-control" placeholder="15-digit GSTIN" maxlength="15" pattern="[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[A-Z0-9]{1}[Z]{1}[A-Z0-9]{1}">
                </div>
            </div>
        </div>
    </div>
    
    <div class="card">
        <div class="card-header">Address</div>
        <div class="card-body">
            <div class="form-row">
                <div class="form-group" style="flex: 2;">
                    <label class="form-label">Address Line 1</label>
                    <input type="text" name="address_line1" class="form-control" placeholder="Street address">
                </div>
                <div class="form-group">
                    <label class="form-label">Address Line 2</label>
                    <input type="text" name="address_line2" class="form-control" placeholder="Area, landmark">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label class="form-label">City</label>
                    <input type="text" name="city" class="form-control" placeholder="City">
                </div>
                <div class="form-group">
                    <label class="form-label">State</label>
                    <select name="state_code" class="form-control">
                        <option value="">Select State</option>
                        {% for code, name in state_codes.items() %}
                        <option value="{{ code }}">{{ code }} - {{ name }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">PIN Code</label>
                    <input type="text" name="pincode" class="form-control" placeholder="6-digit PIN" maxlength="6">
                </div>
            </div>
        </div>
    </div>
    
    <div class="card">
        <div class="card-header">Opening Balance (Optional)</div>
        <div class="card-body">
            <div class="form-row">
                <div class="form-group">
                    <label class="form-label">Opening Balance (â‚¹)</label>
                    <input type="number" name="opening_balance" step="0.01" value="0" class="form-control">
                </div>
                <div class="form-group">
                    <label class="form-label">Balance Type</label>
                    <select name="balance_type" class="form-control">
                        <option value="debit">Debit (They owe us)</option>
                        <option value="credit">Credit (We owe them)</option>
                    </select>
                </div>
            </div>
        </div>
    </div>
    
    <div class="form-group">
        <button type="submit" class="btn btn-primary btn-lg">Save Party</button>
        <a href="{{ url_for('ledgers.index') }}" class="btn btn-secondary btn-lg">Cancel</a>
    </div>
</form>
{% endblock %}
